<p-card>
  <form class="form" [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="flex flex-column gap-6">
    <span
      class="text-center font-semibold text-4xl">{{ "component.form.register.title" | translate | uppercase }}</span>


      <div class="flex flex-column gap-5">
        <div class="flex flex-column gap-2">
          <p-iconField iconPosition="left">
            <p-inputIcon styleClass="pi pi-user"/>
            <input
              class="w-full"
              pInputText
              id="name"
              type="text"
              placeholder="{{'form.label.name' | translate }}"
              formControlName="name">
          </p-iconField>
          @if (!this.form.controls.name.untouched && !this.form.controls.name.valid) {
            <small id="name-help" class="invalid-text">
              {{ "form.invalid.name" | translate }}
            </small>
          }
        </div>

        <div class="flex flex-column gap-2">
          <p-iconField iconPosition="left">
            <p-inputIcon styleClass="pi pi-envelope"/>
            <input
              class="w-full"
              pInputText
              id="email"
              type="email"
              placeholder="{{'form.label.email' | translate }}"
              formControlName="email">
          </p-iconField>
          @if (!this.form.controls.email.untouched && !this.form.controls.email.valid) {
            <small id="email-help" class="invalid-text">
              {{ "form.invalid.email" | translate }}
            </small>
          }
        </div>

        <div class="flex flex-column gap-2">
          <p-iconField iconPosition="left">
            <p-inputIcon styleClass="pi pi-envelope"/>
            <input
              class="w-full"
              pInputText
              id="matchingEmail"
              type="email"
              placeholder="{{'form.label.email.matching' | translate }}"
              formControlName="matchingEmail">
          </p-iconField>
          @if (!this.form.controls.matchingEmail.untouched && !this.form.controls.matchingEmail.valid) {
            <small id="matchingEmail-help" class="invalid-text">
              {{ "form.invalid.email.matching" | translate }}
            </small>
          }
        </div>

        <div class="flex flex-column gap-2">
          <p-iconField iconPosition="left">
            <p-inputIcon styleClass="pi pi-key"/>
            <input class="w-full"
                   pInputText
                   id="password"
                   type="password"
                   placeholder="{{'form.label.password' | translate }}"
                   formControlName="password">
          </p-iconField>
          @if (!this.form.controls.password.untouched && !this.form.controls.password.valid) {
            <small id="password-help" class="invalid-text">
              {{ "form.invalid.password" | translate }}
            </small>
          }
        </div>

        <div class="flex flex-column gap-2">
          <p-iconField iconPosition="left">
            <p-inputIcon styleClass="pi pi-key"/>
            <input class="w-full"
                   pInputText
                   id="matchingPassword"
                   type="password"
                   placeholder="{{'form.label.password.matching' | translate }}"
                   formControlName="matchingPassword">
          </p-iconField>
          @if (!this.form.controls.matchingPassword.untouched && !this.form.controls.matchingPassword.valid) {
            <small id="contactNumber-help" class="invalid-text">
              {{ "form.invalid.password.matching" | translate }}
            </small>
          }
        </div>
      </div>
    </div>

    <!-- STEP NAVIGATION BUTTONS -->
    <div class="buttons">
      <p-button
        severity="danger"
        type="button"
        (onClick)="cancel()"
        label="{{'button.cancel' | translate | uppercase }}"/>
      <p-button
        type="submit"
        label="{{'button.continue' | translate | uppercase }}"/>
    </div>

    <div class="flex flex-column align-items-center gap-3">
      <span>{{ "component.form.register.footer" | translate }}</span>
      <span class="text-primary"
            (click)="authService.setLoginDialog(true)">{{ "component.form.register.link" | translate }}</span>
    </div>
  </form>
</p-card>
